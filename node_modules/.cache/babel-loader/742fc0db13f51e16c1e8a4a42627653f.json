{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import{createUser,signInUser,signOutUser}from'../api/user-api';var initialState={loggedIn:null,error:null};var authSlice=createSlice({name:'auth',initialState:initialState,reducers:{authenticate:function authenticate(state,action){if(action.payload.newUser){console.log('going to create new user');createUser(action.payload.email,action.payload.password);}else{signInUser(action.payload.email,action.payload.password);}state.loggedIn=true;},deauthenticate:function deauthenticate(state){signOutUser();state.loggedIn=false;},setError:function setError(state,action){state.error=action.payload;}}});var _authSlice$actions=authSlice.actions,authenticate=_authSlice$actions.authenticate,deauthenticate=_authSlice$actions.deauthenticate,saveUserId=_authSlice$actions.saveUserId,setError=_authSlice$actions.setError;export{authenticate,deauthenticate,saveUserId,setError};export default authSlice.reducer;","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/authentication/auth-slice.js"],"names":["createSlice","createUser","signInUser","signOutUser","initialState","loggedIn","error","authSlice","name","reducers","authenticate","state","action","payload","newUser","console","log","email","password","deauthenticate","setError","actions","saveUserId","reducer"],"mappings":"AAAA,OAAQA,WAAR,KAA0B,kBAA1B,CACA,OAAQC,UAAR,CAAoBC,UAApB,CAAgCC,WAAhC,KAAkD,iBAAlD,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,QAAQ,CAAE,IADS,CAEnBC,KAAK,CAAE,IAFY,CAArB,CAKA,GAAMC,CAAAA,SAAS,CAAGP,WAAW,CAAC,CAC5BQ,IAAI,CAAE,MADsB,CAE5BJ,YAAY,CAAZA,YAF4B,CAG5BK,QAAQ,CAAE,CACRC,YADQ,uBACKC,KADL,CACYC,MADZ,CACoB,CAC1B,GAAIA,MAAM,CAACC,OAAP,CAAeC,OAAnB,CAA4B,CAC1BC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACAf,UAAU,CAACW,MAAM,CAACC,OAAP,CAAeI,KAAhB,CAAuBL,MAAM,CAACC,OAAP,CAAeK,QAAtC,CAAV,CACD,CAHD,IAGO,CACLhB,UAAU,CAACU,MAAM,CAACC,OAAP,CAAeI,KAAhB,CAAuBL,MAAM,CAACC,OAAP,CAAeK,QAAtC,CAAV,CACD,CACDP,KAAK,CAACN,QAAN,CAAiB,IAAjB,CACD,CATO,CAURc,cAVQ,yBAUOR,KAVP,CAUc,CACpBR,WAAW,GACXQ,KAAK,CAACN,QAAN,CAAiB,KAAjB,CACD,CAbO,CAcRe,QAdQ,mBAcCT,KAdD,CAcQC,MAdR,CAcgB,CACtBD,KAAK,CAACL,KAAN,CAAcM,MAAM,CAACC,OAArB,CACD,CAhBO,CAHkB,CAAD,CAA7B,C,uBAwBIN,SAAS,CAACc,O,CADAX,Y,oBAAAA,Y,CAAcS,c,oBAAAA,c,CAAgBG,U,oBAAAA,U,CAAYF,Q,oBAAAA,Q,yDAExD,cAAeb,CAAAA,SAAS,CAACgB,OAAzB","sourcesContent":["import {createSlice} from '@reduxjs/toolkit';\nimport {createUser, signInUser, signOutUser} from '../api/user-api'\n\nconst initialState = {\n  loggedIn: null,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    authenticate(state, action) {\n      if (action.payload.newUser) {\n        console.log('going to create new user')\n        createUser(action.payload.email, action.payload.password);\n      } else {\n        signInUser(action.payload.email, action.payload.password);\n      }\n      state.loggedIn = true;\n    },\n    deauthenticate(state) {\n      signOutUser();\n      state.loggedIn = false;\n    },\n    setError(state, action) {\n      state.error = action.payload;\n    },\n  },\n});\n\nexport const {authenticate, deauthenticate, saveUserId, setError} =\n    authSlice.actions;\nexport default authSlice.reducer;"]},"metadata":{},"sourceType":"module"}