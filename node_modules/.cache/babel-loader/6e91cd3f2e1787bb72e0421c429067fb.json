{"ast":null,"code":"var _jsxFileName = \"/home/cmiranz/step157-2020/client/src/app/pages/Explore.js\";\nimport React, { Component } from 'react';\nimport firebase from '../../firebase';\nimport { storeSkills } from '../../api/skills-api.js';\nimport './Explore.css'; // Components\n\nimport CategoryCard from '../components/CategoryCard';\n\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      skills: []\n    };\n  }\n\n  componentDidMount() {\n    const skillsRef = storeSkills();\n    let skillsArr = [];\n    skillsRef.once('value').then(snapshot => {\n      let promises = [];\n      snapshot.forEach(skill => {\n        let obj = skill.val();\n        skillsArr.push(obj);\n        const imgRef = firebase.storage().ref('/images/skill_' + obj.name.toLowerCase() + '.jpg');\n        let promise = imgRef.getDownloadURL();\n        promises.push(promise);\n      });\n      return Promise.all(promises);\n    }).then(results => {\n      for (let i = 0; i < skillsArr.length; i++) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr\n      });\n    });\n  }\n\n  render() {\n    const categories = this.state.skills;\n\n    if (categories.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, \"Explore\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-subtitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      }, \"Explore different skillsharing categories.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categories-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, \"Loading...\")));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, \"Explore\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-subtitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, \"Explore different skillsharing categories.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categories-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }\n      }, categories.map(category => {\n        return /*#__PURE__*/React.createElement(CategoryCard, {\n          key: category.name,\n          name: category.name,\n          desc: category.desc,\n          img: category.img,\n          subskills: category.subskills,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }\n        });\n      })));\n    }\n  }\n\n}\n\nexport default Explore;","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/app/pages/Explore.js"],"names":["React","Component","firebase","storeSkills","CategoryCard","Explore","constructor","props","state","skills","componentDidMount","skillsRef","skillsArr","once","then","snapshot","promises","forEach","skill","obj","val","push","imgRef","storage","ref","name","toLowerCase","promise","getDownloadURL","Promise","all","results","i","length","img","setState","render","categories","map","category","desc","subskills"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SAASC,WAAT,QAA4B,yBAA5B;AAGA,OAAO,eAAP,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,4BAAzB;;AAEA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAC9BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAGD;;AAIDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,SAAS,GAAGR,WAAW,EAA7B;AAGA,QAAIS,SAAS,GAAG,EAAhB;AAEAD,IAAAA,SAAS,CAACE,IAAV,CAAe,OAAf,EAAwBC,IAAxB,CAA6BC,QAAQ,IAAI;AACvC,UAAIC,QAAQ,GAAG,EAAf;AAEAD,MAAAA,QAAQ,CAACE,OAAT,CAAiBC,KAAK,IAAI;AACxB,YAAIC,GAAG,GAAGD,KAAK,CAACE,GAAN,EAAV;AACAR,QAAAA,SAAS,CAACS,IAAV,CAAeF,GAAf;AAEA,cAAMG,MAAM,GAAGpB,QAAQ,CAACqB,OAAT,GAAmBC,GAAnB,CAAuB,mBAAmBL,GAAG,CAACM,IAAJ,CAASC,WAAT,EAAnB,GAA4C,MAAnE,CAAf;AAEA,YAAIC,OAAO,GAAGL,MAAM,CAACM,cAAP,EAAd;AACAZ,QAAAA,QAAQ,CAACK,IAAT,CAAcM,OAAd;AACD,OARD;AAUA,aAAOE,OAAO,CAACC,GAAR,CAAYd,QAAZ,CAAP;AACD,KAdD,EAcGF,IAdH,CAcQiB,OAAO,IAAI;AACjB,WAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACpB,SAAS,CAACqB,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrCpB,QAAAA,SAAS,CAACoB,CAAD,CAAT,CAAaE,GAAb,GAAmBH,OAAO,CAACC,CAAD,CAA1B;AACD;;AAED,WAAKG,QAAL,CAAc;AACZ1B,QAAAA,MAAM,EAAEG;AADI,OAAd;AAGD,KAtBD;AAuBD;;AAEDwB,EAAAA,MAAM,GAAG;AACP,UAAMC,UAAU,GAAG,KAAK7B,KAAL,CAAWC,MAA9B;;AAEA,QAAI4B,UAAU,CAACJ,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,0BACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAFF,CADF,eAKE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CALF,CADF;AAWD,KAZD,MAYO;AACL,0BACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAFF,CADF,eAKE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGI,UAAU,CAACC,GAAX,CAAeC,QAAQ,IAAI;AAC1B,4BACE,oBAAC,YAAD;AAAc,UAAA,GAAG,EAAEA,QAAQ,CAACd,IAA5B;AAAkC,UAAA,IAAI,EAAEc,QAAQ,CAACd,IAAjD;AAAuD,UAAA,IAAI,EAAEc,QAAQ,CAACC,IAAtE;AAA4E,UAAA,GAAG,EAAED,QAAQ,CAACL,GAA1F;AAA+F,UAAA,SAAS,EAAEK,QAAQ,CAACE,SAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAGD,OAJA,CADH,CALF,CADF;AAeD;AACF;;AA1E6B;;AA6EhC,eAAepC,OAAf","sourcesContent":["import React, { Component } from 'react'\nimport firebase from '../../firebase';\nimport { storeSkills } from '../../api/skills-api.js';\n\n\nimport './Explore.css';\n\n// Components\nimport CategoryCard from '../components/CategoryCard'\n\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      skills: []\n    }\n  }\n\n  \n\n  componentDidMount() {\n    const skillsRef = storeSkills();\n    \n\n    let skillsArr = [];\n    \n    skillsRef.once('value').then(snapshot => {\n      let promises = [];\n\n      snapshot.forEach(skill => {\n        let obj = skill.val();\n        skillsArr.push(obj);\n\n        const imgRef = firebase.storage().ref('/images/skill_' + obj.name.toLowerCase() + '.jpg');\n\n        let promise = imgRef.getDownloadURL()\n        promises.push(promise);\n      })\n\n      return Promise.all(promises);\n    }).then(results => {\n      for (let i=0; i<skillsArr.length; i++) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr\n      })\n    })\n  } \n\n  render() {\n    const categories = this.state.skills;\n\n    if (categories.length === 0) {\n      return (\n        <div className='explore-container'>\n          <div className='explore-title-container'>\n            <div className=\"explore-title\">Explore</div>\n            <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n          </div>\n          <div className='categories-container'>\n            <div>Loading...</div>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className='explore-container'>\n          <div className='explore-title-container'>\n            <div className=\"explore-title\">Explore</div>\n            <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n          </div>\n          <div className='categories-container'>\n            {categories.map(category => {\n              return (\n                <CategoryCard key={category.name} name={category.name} desc={category.desc} img={category.img} subskills={category.subskills} />\n              );\n            })}\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Explore"]},"metadata":{},"sourceType":"module"}