{"ast":null,"code":"var _jsxFileName = \"/home/cmiranz/step157-2020/client/src/pages/explore/explore.js\";\nimport React, { Component } from 'react';\nimport firebase from '../../firebase';\nimport storeSkills from '../../api/skills-api.js';\nimport './explore.css'; // Components\n\nimport CategoryCard from '../../components/category-card/category-card.js';\n\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      skills: []\n    };\n  }\n\n  componentDidMount() {\n    const skillsRef = storeSkills();\n    const skillsArr = [];\n    skillsRef.once('value').then(snapshot => {\n      const promises = [];\n      snapshot.forEach(skill => {\n        const obj = skill.val();\n        skillsArr.push(obj);\n        const imgRef = firebase.storage().ref(`/images/skill_${obj.name.toLowerCase()}.jpg`);\n        const promise = imgRef.getDownloadURL();\n        promises.push(promise);\n      });\n      return Promise.all(promises);\n    }).then(results => {\n      for (let i = 0; i < skillsArr.length; i += 1) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr\n      });\n    });\n  }\n\n  render() {\n    const {\n      skills\n    } = this.state;\n    const categories = skills;\n\n    if (categories.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }\n      }, \"Explore\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-subtitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, \"Explore different skillsharing categories.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categories-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      }, \"Loading...\")));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"explore-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"explore-title-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"explore-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Explore\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"explore-subtitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, \"Explore different skillsharing categories.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"categories-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, categories.map(category => /*#__PURE__*/React.createElement(CategoryCard, {\n      key: category.name,\n      name: category.name,\n      desc: category.desc,\n      img: category.img,\n      subskills: category.subskills,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default Explore;","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/pages/explore/explore.js"],"names":["React","Component","firebase","storeSkills","CategoryCard","Explore","constructor","props","state","skills","componentDidMount","skillsRef","skillsArr","once","then","snapshot","promises","forEach","skill","obj","val","push","imgRef","storage","ref","name","toLowerCase","promise","getDownloadURL","Promise","all","results","i","length","img","setState","render","categories","map","category","desc","subskills"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport firebase from '../../firebase';\nimport storeSkills from '../../api/skills-api.js';\n\nimport './explore.css';\n\n// Components\nimport CategoryCard from '../../components/category-card/category-card.js';\n\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      skills: [],\n    };\n  }\n\n  componentDidMount() {\n    const skillsRef = storeSkills();\n\n    const skillsArr = [];\n\n    skillsRef.once('value').then((snapshot) => {\n      const promises = [];\n\n      snapshot.forEach((skill) => {\n        const obj = skill.val();\n        skillsArr.push(obj);\n\n        const imgRef = firebase.storage().ref(`/images/skill_${obj.name.toLowerCase()}.jpg`);\n\n        const promise = imgRef.getDownloadURL();\n        promises.push(promise);\n      });\n\n      return Promise.all(promises);\n    }).then((results) => {\n      for (let i = 0; i < skillsArr.length; i += 1) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr,\n      });\n    });\n  }\n\n  render() {\n    const {skills} = this.state;\n    const categories = skills;\n\n    if (categories.length === 0) {\n      return (\n        <div className=\"explore-container\">\n          <div className=\"explore-title-container\">\n            <div className=\"explore-title\">Explore</div>\n            <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n          </div>\n          <div className=\"categories-container\">\n            <div>Loading...</div>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"explore-container\">\n        <div className=\"explore-title-container\">\n          <div className=\"explore-title\">Explore</div>\n          <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n        </div>\n        <div className=\"categories-container\">\n          {categories.map((category) => (\n            <CategoryCard\n              key={category.name}\n              name={category.name}\n              desc={category.desc}\n              img={category.img}\n              subskills={category.subskills}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Explore;\n"]},"metadata":{},"sourceType":"module"}