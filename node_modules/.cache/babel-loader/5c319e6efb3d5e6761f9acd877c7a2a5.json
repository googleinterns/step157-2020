{"ast":null,"code":"import _classCallCheck from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{NavLink}from'react-router-dom';import firebase from'firebase';import'./skill-page.css';import SubskillCard from'../../components/subskill-card/subskill-card.js';var SkillPage=/*#__PURE__*/function(_Component){_inherits(SkillPage,_Component);var _super=_createSuper(SkillPage);function SkillPage(props){var _this;_classCallCheck(this,SkillPage);_this=_super.call(this,props);_this.state={skillData:{},imgUrl:''};return _this;}_createClass(SkillPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var skillsRef=firebase.database().ref('skills');skillsRef.once('value').then(function(snapshot){snapshot.forEach(function(skill){var skillObj=skill.val();if(skillObj.name.toLowerCase()===_this2.props.match.params.skillId){_this2.setState({skillData:skillObj});var imgRef=firebase.storage().ref('/images/skill_'+skillObj.name.toLowerCase()+'.jpg');imgRef.getDownloadURL().then(function(url){_this2.setState({imgUrl:url});});}});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,skillData=_this$state.skillData,imgUrl=_this$state.imgUrl;//console.log(\"sdfklngjg\", skillData);\nif(Object.keys(skillData).length===0&&imgUrl===''){return/*#__PURE__*/React.createElement(\"div\",{className:\"skillpg-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title\"},skillData.name),/*#__PURE__*/React.createElement(\"div\",{className:\"explore-subtitle\"},skillData.desc)),/*#__PURE__*/React.createElement(\"div\",{className:\"subskills-container\"},\"Loading...\"));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:\"skillpg-header-img\",src:imgUrl}),/*#__PURE__*/React.createElement(\"div\",{className:\"skillpg-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title\"},skillData.name),/*#__PURE__*/React.createElement(\"div\",{className:\"explore-subtitle\"},skillData.desc)),/*#__PURE__*/React.createElement(\"div\",{className:\"subskills-container\"},skillData.subskills.map(function(subskill){return/*#__PURE__*/React.createElement(SubskillCard,{category:_this3.props.match.params.skillId,subskill:subskill});}))));}}}]);return SkillPage;}(Component);export default SkillPage;","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/pages/skill/skill-page.js"],"names":["React","Component","NavLink","firebase","SubskillCard","SkillPage","props","state","skillData","imgUrl","skillsRef","database","ref","once","then","snapshot","forEach","skill","skillObj","val","name","toLowerCase","match","params","skillId","setState","imgRef","storage","getDownloadURL","url","Object","keys","length","desc","subskills","map","subskill"],"mappings":"glBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,MAAO,kBAAP,CACA,MAAOC,CAAAA,YAAP,KAAyB,iDAAzB,C,GAEMC,CAAAA,S,sGACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,SAAS,CAAE,EADA,CAEXC,MAAM,CAAE,EAFG,CAAb,CAHiB,aAOlB,C,mFAEmB,iBAClB,GAAMC,CAAAA,SAAS,CAAGP,QAAQ,CAACQ,QAAT,GAAoBC,GAApB,CAAwB,QAAxB,CAAlB,CACAF,SAAS,CAACG,IAAV,CAAe,OAAf,EAAwBC,IAAxB,CAA6B,SAAAC,QAAQ,CAAI,CACrCA,QAAQ,CAACC,OAAT,CAAiB,SAAAC,KAAK,CAAI,CACxB,GAAIC,CAAAA,QAAQ,CAAGD,KAAK,CAACE,GAAN,EAAf,CAEA,GAAID,QAAQ,CAACE,IAAT,CAAcC,WAAd,KAAgC,MAAI,CAACf,KAAL,CAAWgB,KAAX,CAAiBC,MAAjB,CAAwBC,OAA5D,CAAqE,CACnE,MAAI,CAACC,QAAL,CAAc,CACVjB,SAAS,CAAEU,QADD,CAAd,EAIA,GAAMQ,CAAAA,MAAM,CAAGvB,QAAQ,CAACwB,OAAT,GAAmBf,GAAnB,CAAuB,iBAAmBM,QAAQ,CAACE,IAAT,CAAcC,WAAd,EAAnB,CAAiD,MAAxE,CAAf,CACAK,MAAM,CAACE,cAAP,GAAwBd,IAAxB,CAA6B,SAAAe,GAAG,CAAI,CAChC,MAAI,CAACJ,QAAL,CAAc,CACZhB,MAAM,CAAEoB,GADI,CAAd,EAGH,CAJD,EAKD,CACF,CAfD,EAgBD,CAjBH,EAkBC,C,uCAEM,iCACqB,KAAKtB,KAD1B,CACDC,SADC,aACDA,SADC,CACUC,MADV,aACUA,MADV,CAEP;AAEA,GAAIqB,MAAM,CAACC,IAAP,CAAYvB,SAAZ,EAAuBwB,MAAvB,GAAkC,CAAlC,EAAuCvB,MAAM,GAAK,EAAtD,CAA0D,CACxD,mBACI,2BAAK,SAAS,CAAC,mBAAf,eACI,2BAAK,SAAS,CAAC,yBAAf,eACI,2BAAK,SAAS,CAAC,eAAf,EAAgCD,SAAS,CAACY,IAA1C,CADJ,cAEI,2BAAK,SAAS,CAAC,kBAAf,EAAmCZ,SAAS,CAACyB,IAA7C,CAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,qBAAf,eALJ,CADJ,CASD,CAVD,IAUO,CACH,mBACE,4CACE,2BAAK,SAAS,CAAC,oBAAf,CAAoC,GAAG,CAAExB,MAAzC,EADF,cAEE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,2BAAK,SAAS,CAAC,eAAf,EAAgCD,SAAS,CAACY,IAA1C,CADF,cAEE,2BAAK,SAAS,CAAC,kBAAf,EAAmCZ,SAAS,CAACyB,IAA7C,CAFF,CADF,cAKE,2BAAK,SAAS,CAAC,qBAAf,EACGzB,SAAS,CAAC0B,SAAV,CAAoBC,GAApB,CAAwB,SAAAC,QAAQ,CAAI,CACnC,mBACE,oBAAC,YAAD,EAAc,QAAQ,CAAE,MAAI,CAAC9B,KAAL,CAAWgB,KAAX,CAAiBC,MAAjB,CAAwBC,OAAhD,CAAyD,QAAQ,CAAEY,QAAnE,EADF,CAGD,CAJA,CADH,CALF,CAFF,CADF,CAkBH,CACF,C,uBAlEqBnC,S,EAqExB,cAAeI,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport firebase from 'firebase';\n\nimport './skill-page.css';\nimport SubskillCard from '../../components/subskill-card/subskill-card.js'\n\nclass SkillPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      skillData: {},\n      imgUrl: ''\n    }\n  }\n\n  componentDidMount() {\n    const skillsRef = firebase.database().ref('skills');\n    skillsRef.once('value').then(snapshot => {\n        snapshot.forEach(skill => {\n          let skillObj = skill.val();\n\n          if (skillObj.name.toLowerCase() === this.props.match.params.skillId) {\n            this.setState({\n                skillData: skillObj\n            });\n\n            const imgRef = firebase.storage().ref('/images/skill_' + skillObj.name.toLowerCase() + '.jpg');\n            imgRef.getDownloadURL().then(url => {\n                this.setState({\n                  imgUrl: url\n                })\n            })\n          }\n        })\n      })\n    }\n\n  render() {\n    let { skillData, imgUrl } = this.state;\n    //console.log(\"sdfklngjg\", skillData);\n    \n    if (Object.keys(skillData).length === 0 && imgUrl === '') {\n      return (\n          <div className='skillpg-container'>\n              <div className='explore-title-container'>\n                  <div className=\"explore-title\">{skillData.name}</div>\n                  <div className=\"explore-subtitle\">{skillData.desc}</div>\n              </div>\n              <div className=\"subskills-container\">Loading...</div>\n          </div>\n      )  \n    } else {\n        return (\n          <div>\n            <img className='skillpg-header-img' src={imgUrl} />\n            <div className='skillpg-container'>\n              <div className='explore-title-container'>\n                <div className=\"explore-title\">{skillData.name}</div>\n                <div className=\"explore-subtitle\">{skillData.desc}</div>\n              </div>\n              <div className=\"subskills-container\">\n                {skillData.subskills.map(subskill => {\n                  return (\n                    <SubskillCard category={this.props.match.params.skillId} subskill={subskill}/>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n        )\n    }\n  }\n}\n\nexport default SkillPage"]},"metadata":{},"sourceType":"module"}