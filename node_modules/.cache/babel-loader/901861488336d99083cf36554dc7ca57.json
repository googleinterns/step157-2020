{"ast":null,"code":"import firebase from '../firebase.js';\nimport CategoryCard from '../components/CategoryCard';\n\nfunction componentDidMount() {\n  const skillsRef = firebase.database().ref('skills');\n  skillsRef.set([{\n    name: 'Sports',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['sports-1', 'sports-2', 'sports-3']\n  }, {\n    name: 'Academics',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['academic-1', 'academic-2', 'academic-3']\n  }, {\n    name: 'Games',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['games-1', 'games-2', 'games-3']\n  }, {\n    name: 'Art',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['art-1', 'art-2', 'art-3']\n  }, {\n    name: 'Languages',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['languages-1', 'languages-2', 'languages-3']\n  }, {\n    name: 'Music',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['music-1', 'music-2', 'music-3']\n  }, {\n    name: 'Cooking',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['cooking-1', 'cooking-2', 'cooking-3']\n  }, {\n    name: 'Lifestyle',\n    desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    subskills: ['lifestyle-1', 'lifestyle-2', 'lifestyle-3']\n  }]);\n  let skillsArr = [];\n  skillsRef.once('value').then(snapshot => {\n    let promises = [];\n    snapshot.forEach(skill => {\n      let obj = skill.val();\n      skillsArr.push(obj);\n      const imgRef = firebase.storage().ref('/images/skill_' + obj.name.toLowerCase() + '.jpg');\n      let promise = imgRef.getDownloadURL();\n      promises.push(promise);\n    });\n    return Promise.all(promises);\n  }).then(results => {\n    for (let i = 0; i < skillsArr.length; i++) {\n      skillsArr[i].img = results[i];\n    }\n\n    this.setState({\n      skills: skillsArr\n    });\n  });\n}","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/api/skills-api.js"],"names":["firebase","CategoryCard","componentDidMount","skillsRef","database","ref","set","name","desc","subskills","skillsArr","once","then","snapshot","promises","forEach","skill","obj","val","push","imgRef","storage","toLowerCase","promise","getDownloadURL","Promise","all","results","i","length","img","setState","skills"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gBAArB;AAEA,OAAOC,YAAP,MAAyB,4BAAzB;;AAIE,SAASC,iBAAT,GAA6B;AAC3B,QAAMC,SAAS,GAAGH,QAAQ,CAACI,QAAT,GAAoBC,GAApB,CAAwB,QAAxB,CAAlB;AAGAF,EAAAA,SAAS,CAACG,GAAV,CAAc,CACV;AACIC,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,UAAD,EAAa,UAAb,EAAyB,UAAzB;AAHf,GADU,EAMV;AACIF,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,YAAD,EAAe,YAAf,EAA6B,YAA7B;AAHf,GANU,EAWV;AACIF,IAAAA,IAAI,EAAE,OADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB;AAHf,GAXU,EAgBV;AACIF,IAAAA,IAAI,EAAE,KADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,OAAD,EAAU,OAAV,EAAmB,OAAnB;AAHf,GAhBU,EAqBV;AACIF,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,aAAD,EAAgB,aAAhB,EAA+B,aAA/B;AAHf,GArBU,EA0BV;AACIF,IAAAA,IAAI,EAAE,OADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,SAAD,EAAY,SAAZ,EAAuB,SAAvB;AAHf,GA1BU,EA+BV;AACIF,IAAAA,IAAI,EAAE,SADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,WAAD,EAAc,WAAd,EAA2B,WAA3B;AAHf,GA/BU,EAoCV;AACIF,IAAAA,IAAI,EAAE,WADV;AAEIC,IAAAA,IAAI,EAAE,wGAFV;AAGIC,IAAAA,SAAS,EAAE,CAAC,aAAD,EAAgB,aAAhB,EAA+B,aAA/B;AAHf,GApCU,CAAd;AA2CA,MAAIC,SAAS,GAAG,EAAhB;AAEAP,EAAAA,SAAS,CAACQ,IAAV,CAAe,OAAf,EAAwBC,IAAxB,CAA6BC,QAAQ,IAAI;AACvC,QAAIC,QAAQ,GAAG,EAAf;AAEAD,IAAAA,QAAQ,CAACE,OAAT,CAAiBC,KAAK,IAAI;AACxB,UAAIC,GAAG,GAAGD,KAAK,CAACE,GAAN,EAAV;AACAR,MAAAA,SAAS,CAACS,IAAV,CAAeF,GAAf;AAEA,YAAMG,MAAM,GAAGpB,QAAQ,CAACqB,OAAT,GAAmBhB,GAAnB,CAAuB,mBAAmBY,GAAG,CAACV,IAAJ,CAASe,WAAT,EAAnB,GAA4C,MAAnE,CAAf;AAEA,UAAIC,OAAO,GAAGH,MAAM,CAACI,cAAP,EAAd;AACAV,MAAAA,QAAQ,CAACK,IAAT,CAAcI,OAAd;AACD,KARD;AAUA,WAAOE,OAAO,CAACC,GAAR,CAAYZ,QAAZ,CAAP;AACD,GAdD,EAcGF,IAdH,CAcQe,OAAO,IAAI;AACjB,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAClB,SAAS,CAACmB,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrClB,MAAAA,SAAS,CAACkB,CAAD,CAAT,CAAaE,GAAb,GAAmBH,OAAO,CAACC,CAAD,CAA1B;AACD;;AAED,SAAKG,QAAL,CAAc;AACZC,MAAAA,MAAM,EAAEtB;AADI,KAAd;AAGD,GAtBD;AAuBD","sourcesContent":["import firebase from '../firebase.js';\n\nimport CategoryCard from '../components/CategoryCard'\n\n\n\n  function componentDidMount() {\n    const skillsRef = firebase.database().ref('skills');\n\n\n    skillsRef.set([\n        {\n            name: 'Sports',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['sports-1', 'sports-2', 'sports-3']\n        },\n        {\n            name: 'Academics',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['academic-1', 'academic-2', 'academic-3']\n        },\n        {\n            name: 'Games',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['games-1', 'games-2', 'games-3']\n        },\n        {\n            name: 'Art',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['art-1', 'art-2', 'art-3']\n        },\n        {\n            name: 'Languages',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['languages-1', 'languages-2', 'languages-3']\n        },\n        {\n            name: 'Music',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['music-1', 'music-2', 'music-3']\n        },\n        {\n            name: 'Cooking',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['cooking-1', 'cooking-2', 'cooking-3']\n        },\n        {\n            name: 'Lifestyle',\n            desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n            subskills: ['lifestyle-1', 'lifestyle-2', 'lifestyle-3']\n        }\n        ]);\n\n    let skillsArr = [];\n    \n    skillsRef.once('value').then(snapshot => {\n      let promises = [];\n\n      snapshot.forEach(skill => {\n        let obj = skill.val();\n        skillsArr.push(obj);\n\n        const imgRef = firebase.storage().ref('/images/skill_' + obj.name.toLowerCase() + '.jpg');\n\n        let promise = imgRef.getDownloadURL()\n        promises.push(promise);\n      })\n\n      return Promise.all(promises);\n    }).then(results => {\n      for (let i=0; i<skillsArr.length; i++) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr\n      })\n    })\n  }"]},"metadata":{},"sourceType":"module"}