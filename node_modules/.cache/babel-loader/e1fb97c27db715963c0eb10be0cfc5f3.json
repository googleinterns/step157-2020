{"ast":null,"code":"import _classCallCheck from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import firebase from'../../firebase';import storeSkills from'../../api/skills-api.js';import'./explore.css';// Components\nimport CategoryCard from'../../components/category-card/category-card.js';var Explore=/*#__PURE__*/function(_Component){_inherits(Explore,_Component);var _super=_createSuper(Explore);function Explore(props){var _this;_classCallCheck(this,Explore);_this=_super.call(this,props);_this.state={skills:[]};return _this;}_createClass(Explore,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var skillsRef=storeSkills();var skillsArr=[];skillsRef.once('value').then(function(snapshot){var promises=[];snapshot.forEach(function(skill){var obj=skill.val();skillsArr.push(obj);var imgRef=firebase.storage().ref(\"/images/skill_\".concat(obj.name.toLowerCase(),\".jpg\"));var promise=imgRef.getDownloadURL();promises.push(promise);});return Promise.all(promises);}).then(function(results){for(var i=0;i<skillsArr.length;i+=1){skillsArr[i].img=results[i];}_this2.setState({skills:skillsArr});});}},{key:\"render\",value:function render(){var skills=this.state.skills;var categories=skills;if(categories.length===0){return/*#__PURE__*/React.createElement(\"div\",{className:\"explore-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title\"},\"Explore\"),/*#__PURE__*/React.createElement(\"div\",{className:\"explore-subtitle\"},\"Explore different skillsharing categories.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"categories-container\"},/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\")));}return/*#__PURE__*/React.createElement(\"div\",{className:\"explore-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"explore-title\"},\"Explore\"),/*#__PURE__*/React.createElement(\"div\",{className:\"explore-subtitle\"},\"Explore different skillsharing categories.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"categories-container\"},categories.map(function(category){return/*#__PURE__*/React.createElement(CategoryCard,{key:category.name,name:category.name,desc:category.desc,img:category.img,subskills:category.subskills});})));}}]);return Explore;}(Component);export default Explore;","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/pages/explore/explore.js"],"names":["React","Component","firebase","storeSkills","CategoryCard","Explore","props","state","skills","skillsRef","skillsArr","once","then","snapshot","promises","forEach","skill","obj","val","push","imgRef","storage","ref","name","toLowerCase","promise","getDownloadURL","Promise","all","results","i","length","img","setState","categories","map","category","desc","subskills"],"mappings":"glBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CAEA,MAAO,eAAP,CAEA;AACA,MAAOC,CAAAA,YAAP,KAAyB,iDAAzB,C,GAEMC,CAAAA,O,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,MAAM,CAAE,EADG,CAAb,CAHiB,aAMlB,C,iFAEmB,iBAClB,GAAMC,CAAAA,SAAS,CAAGN,WAAW,EAA7B,CAEA,GAAMO,CAAAA,SAAS,CAAG,EAAlB,CAEAD,SAAS,CAACE,IAAV,CAAe,OAAf,EAAwBC,IAAxB,CAA6B,SAACC,QAAD,CAAc,CACzC,GAAMC,CAAAA,QAAQ,CAAG,EAAjB,CAEAD,QAAQ,CAACE,OAAT,CAAiB,SAACC,KAAD,CAAW,CAC1B,GAAMC,CAAAA,GAAG,CAAGD,KAAK,CAACE,GAAN,EAAZ,CACAR,SAAS,CAACS,IAAV,CAAeF,GAAf,EAEA,GAAMG,CAAAA,MAAM,CAAGlB,QAAQ,CAACmB,OAAT,GAAmBC,GAAnB,yBAAwCL,GAAG,CAACM,IAAJ,CAASC,WAAT,EAAxC,SAAf,CAEA,GAAMC,CAAAA,OAAO,CAAGL,MAAM,CAACM,cAAP,EAAhB,CACAZ,QAAQ,CAACK,IAAT,CAAcM,OAAd,EACD,CARD,EAUA,MAAOE,CAAAA,OAAO,CAACC,GAAR,CAAYd,QAAZ,CAAP,CACD,CAdD,EAcGF,IAdH,CAcQ,SAACiB,OAAD,CAAa,CACnB,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGpB,SAAS,CAACqB,MAA9B,CAAsCD,CAAC,EAAI,CAA3C,CAA8C,CAC5CpB,SAAS,CAACoB,CAAD,CAAT,CAAaE,GAAb,CAAmBH,OAAO,CAACC,CAAD,CAA1B,CACD,CAED,MAAI,CAACG,QAAL,CAAc,CACZzB,MAAM,CAAEE,SADI,CAAd,EAGD,CAtBD,EAuBD,C,uCAEQ,IACAF,CAAAA,MADA,CACU,KAAKD,KADf,CACAC,MADA,CAEP,GAAM0B,CAAAA,UAAU,CAAG1B,MAAnB,CAEA,GAAI0B,UAAU,CAACH,MAAX,GAAsB,CAA1B,CAA6B,CAC3B,mBACE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,2BAAK,SAAS,CAAC,eAAf,YADF,cAEE,2BAAK,SAAS,CAAC,kBAAf,+CAFF,CADF,cAKE,2BAAK,SAAS,CAAC,sBAAf,eACE,4CADF,CALF,CADF,CAWD,CACD,mBACE,2BAAK,SAAS,CAAC,mBAAf,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,2BAAK,SAAS,CAAC,eAAf,YADF,cAEE,2BAAK,SAAS,CAAC,kBAAf,+CAFF,CADF,cAKE,2BAAK,SAAS,CAAC,sBAAf,EACGG,UAAU,CAACC,GAAX,CAAe,SAACC,QAAD,qBACd,oBAAC,YAAD,EACE,GAAG,CAAEA,QAAQ,CAACb,IADhB,CAEE,IAAI,CAAEa,QAAQ,CAACb,IAFjB,CAGE,IAAI,CAAEa,QAAQ,CAACC,IAHjB,CAIE,GAAG,CAAED,QAAQ,CAACJ,GAJhB,CAKE,SAAS,CAAEI,QAAQ,CAACE,SALtB,EADc,EAAf,CADH,CALF,CADF,CAmBD,C,qBA3EmBrC,S,EA8EtB,cAAeI,CAAAA,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport firebase from '../../firebase';\nimport storeSkills from '../../api/skills-api.js';\n\nimport './explore.css';\n\n// Components\nimport CategoryCard from '../../components/category-card/category-card.js';\n\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      skills: [],\n    };\n  }\n\n  componentDidMount() {\n    const skillsRef = storeSkills();\n\n    const skillsArr = [];\n\n    skillsRef.once('value').then((snapshot) => {\n      const promises = [];\n\n      snapshot.forEach((skill) => {\n        const obj = skill.val();\n        skillsArr.push(obj);\n\n        const imgRef = firebase.storage().ref(`/images/skill_${obj.name.toLowerCase()}.jpg`);\n\n        const promise = imgRef.getDownloadURL();\n        promises.push(promise);\n      });\n\n      return Promise.all(promises);\n    }).then((results) => {\n      for (let i = 0; i < skillsArr.length; i += 1) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr,\n      });\n    });\n  }\n\n  render() {\n    const {skills} = this.state;\n    const categories = skills;\n\n    if (categories.length === 0) {\n      return (\n        <div className=\"explore-container\">\n          <div className=\"explore-title-container\">\n            <div className=\"explore-title\">Explore</div>\n            <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n          </div>\n          <div className=\"categories-container\">\n            <div>Loading...</div>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"explore-container\">\n        <div className=\"explore-title-container\">\n          <div className=\"explore-title\">Explore</div>\n          <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n        </div>\n        <div className=\"categories-container\">\n          {categories.map((category) => (\n            <CategoryCard\n              key={category.name}\n              name={category.name}\n              desc={category.desc}\n              img={category.img}\n              subskills={category.subskills}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Explore;\n"]},"metadata":{},"sourceType":"module"}