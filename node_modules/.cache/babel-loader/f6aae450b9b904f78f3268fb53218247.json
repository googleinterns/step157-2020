{"ast":null,"code":"var _jsxFileName = \"/home/cmiranz/step157-2020/client/src/app/pages/Explore.js\";\nimport React, { Component } from 'react';\nimport firebase from '../../firebase';\nimport './Explore.css'; // Components\n\nimport CategoryCard from '../components/CategoryCard';\n\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      skills: []\n    };\n  }\n\n  componentDidMount() {\n    const skillsRef = firebase.database().ref('skills'); // skillsRef.set([\n    //   {\n    //     name: 'Sports',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['sports-1', 'sports-2', 'sports-3']\n    //   },\n    //   {\n    //     name: 'Academics',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['academic-1', 'academic-2', 'academic-3']\n    //   },\n    //   {\n    //     name: 'Games',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['games-1', 'games-2', 'games-3']\n    //   },\n    //   {\n    //     name: 'Art',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['art-1', 'art-2', 'art-3']\n    //   },\n    //   {\n    //     name: 'Languages',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['languages-1', 'languages-2', 'languages-3']\n    //   },\n    //   {\n    //     name: 'Music',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['music-1', 'music-2', 'music-3']\n    //   },\n    //   {\n    //     name: 'Cooking',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['cooking-1', 'cooking-2', 'cooking-3']\n    //   },\n    //   {\n    //     name: 'Lifestyle',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['lifestyle-1', 'lifestyle-2', 'lifestyle-3']\n    //   }\n    // ]);\n\n    let skillsArr = [];\n    skillsRef.once('value').then(snapshot => {\n      let promises = [];\n      snapshot.forEach(skill => {\n        let obj = skill.val();\n        skillsArr.push(obj);\n        const imgRef = firebase.storage().ref('/skill_' + obj.name.toLowerCase() + '.jpg');\n        let promise = imgRef.getDownloadURL();\n        promises.push(promise);\n      });\n      return Promise.all(promises);\n    }).then(results => {\n      for (let i = 0; i < skillsArr.length; i++) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr\n      });\n    });\n  }\n\n  render() {\n    const categories = this.state.skills;\n    console.log(categories);\n\n    if (categories.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, \"Explore\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-subtitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, \"Explore different skillsharing categories.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categories-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }\n      }, \"Loading...\")));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, \"Explore\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"explore-subtitle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }, \"Explore different skillsharing categories.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categories-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }, categories.map(category => {\n        return /*#__PURE__*/React.createElement(CategoryCard, {\n          key: category.name,\n          name: category.name,\n          desc: category.desc,\n          img: category.img,\n          subskills: category.subskills,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }\n        });\n      })));\n    }\n  }\n\n}\n\nexport default Explore;","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/app/pages/Explore.js"],"names":["React","Component","firebase","CategoryCard","Explore","constructor","props","state","skills","componentDidMount","skillsRef","database","ref","skillsArr","once","then","snapshot","promises","forEach","skill","obj","val","push","imgRef","storage","name","toLowerCase","promise","getDownloadURL","Promise","all","results","i","length","img","setState","render","categories","console","log","map","category","desc","subskills"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport firebase from '../../firebase';\n\nimport './Explore.css';\n\n// Components\nimport CategoryCard from '../components/CategoryCard'\n\nclass Explore extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      skills: []\n    }\n  }\n\n  componentDidMount() {\n    const skillsRef = firebase.database().ref('skills');\n\n    // skillsRef.set([\n    //   {\n    //     name: 'Sports',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['sports-1', 'sports-2', 'sports-3']\n    //   },\n    //   {\n    //     name: 'Academics',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['academic-1', 'academic-2', 'academic-3']\n    //   },\n    //   {\n    //     name: 'Games',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['games-1', 'games-2', 'games-3']\n    //   },\n    //   {\n    //     name: 'Art',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['art-1', 'art-2', 'art-3']\n    //   },\n    //   {\n    //     name: 'Languages',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['languages-1', 'languages-2', 'languages-3']\n    //   },\n    //   {\n    //     name: 'Music',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['music-1', 'music-2', 'music-3']\n    //   },\n    //   {\n    //     name: 'Cooking',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['cooking-1', 'cooking-2', 'cooking-3']\n    //   },\n    //   {\n    //     name: 'Lifestyle',\n    //     desc: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris eleifend quam eu sodales sollicitudin.',\n    //     subskills: ['lifestyle-1', 'lifestyle-2', 'lifestyle-3']\n    //   }\n    // ]);\n\n    let skillsArr = [];\n    \n    skillsRef.once('value').then(snapshot => {\n      let promises = [];\n\n      snapshot.forEach(skill => {\n        let obj = skill.val();\n        skillsArr.push(obj);\n\n        const imgRef = firebase.storage().ref('/skill_' + obj.name.toLowerCase() + '.jpg');\n\n        let promise = imgRef.getDownloadURL()\n        promises.push(promise);\n      })\n\n      return Promise.all(promises);\n    }).then(results => {\n      for (let i=0; i<skillsArr.length; i++) {\n        skillsArr[i].img = results[i];\n      }\n\n      this.setState({\n        skills: skillsArr\n      })\n    })\n  }\n\n  render() {\n    const categories = this.state.skills;\n    console.log(categories);\n\n    if (categories.length === 0) {\n      return (\n        <div className='explore-container'>\n          <div className='explore-title-container'>\n            <div className=\"explore-title\">Explore</div>\n            <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n          </div>\n          <div className='categories-container'>\n            <div>Loading...</div>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <div className='explore-container'>\n          <div className='explore-title-container'>\n            <div className=\"explore-title\">Explore</div>\n            <div className=\"explore-subtitle\">Explore different skillsharing categories.</div>\n          </div>\n          <div className='categories-container'>\n            {categories.map(category => {\n              return (\n                <CategoryCard key={category.name} name={category.name} desc={category.desc} img={category.img} subskills={category.subskills} />\n              )\n            })}\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default Explore"]},"metadata":{},"sourceType":"module"}