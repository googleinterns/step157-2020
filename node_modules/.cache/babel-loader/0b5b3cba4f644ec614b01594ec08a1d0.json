{"ast":null,"code":"import _classCallCheck from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/cmiranz/step157-2020/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import firebase from'firebase';import'./subskill-page.css';var SubskillPage=/*#__PURE__*/function(_Component){_inherits(SubskillPage,_Component);var _super=_createSuper(SubskillPage);function SubskillPage(props){var _this;_classCallCheck(this,SubskillPage);_this=_super.call(this,props);_this.state={subskillData:{}};return _this;}_createClass(SubskillPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var skillsRef=firebase.database().ref('skills');skillsRef.once('value').then(function(snapshot){snapshot.forEach(function(skill){var skillObj=skill.val();if(skillObj.name.toLowerCase()===_this2.props.match.params.skillId){var subskills=skillObj.subskills;for(var i=0;i<subskills.length;i++){if(subskills[i].name.toLowerCase()===_this2.props.match.params.subskillId){_this2.setState({subskillData:subskills[i]});}}}});});}},{key:\"render\",value:function render(){var subskillData=this.state.subskillData;if(Object.keys(subskillData).length===0){return/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\");}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,subskillData.name),/*#__PURE__*/React.createElement(\"div\",null,subskillData.desc));}}}]);return SubskillPage;}(Component);export default SubskillPage;","map":{"version":3,"sources":["/home/cmiranz/step157-2020/client/src/pages/subskill/subskill-page.js"],"names":["React","Component","firebase","SubskillPage","props","state","subskillData","skillsRef","database","ref","once","then","snapshot","forEach","skill","skillObj","val","name","toLowerCase","match","params","skillId","subskills","i","length","subskillId","setState","Object","keys","desc"],"mappings":"glBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAEA,MAAO,qBAAP,C,GAEMC,CAAAA,Y,4GACJ,sBAAYC,KAAZ,CAAmB,8CACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,YAAY,CAAE,EADL,CAAb,CAHiB,aAMlB,C,sFAEmB,iBAClB,GAAMC,CAAAA,SAAS,CAAGL,QAAQ,CAACM,QAAT,GAAoBC,GAApB,CAAwB,QAAxB,CAAlB,CACAF,SAAS,CAACG,IAAV,CAAe,OAAf,EAAwBC,IAAxB,CAA6B,SAAAC,QAAQ,CAAI,CACrCA,QAAQ,CAACC,OAAT,CAAiB,SAAAC,KAAK,CAAI,CACxB,GAAIC,CAAAA,QAAQ,CAAGD,KAAK,CAACE,GAAN,EAAf,CAEA,GAAID,QAAQ,CAACE,IAAT,CAAcC,WAAd,KAAgC,MAAI,CAACd,KAAL,CAAWe,KAAX,CAAiBC,MAAjB,CAAwBC,OAA5D,CAAqE,CACnE,GAAIC,CAAAA,SAAS,CAAGP,QAAQ,CAACO,SAAzB,CAEA,IAAK,GAAIC,CAAAA,CAAC,CAAC,CAAX,CAAcA,CAAC,CAAGD,SAAS,CAACE,MAA5B,CAAoCD,CAAC,EAArC,CAAyC,CACvC,GAAID,SAAS,CAACC,CAAD,CAAT,CAAaN,IAAb,CAAkBC,WAAlB,KAAoC,MAAI,CAACd,KAAL,CAAWe,KAAX,CAAiBC,MAAjB,CAAwBK,UAAhE,CAA4E,CACxE,MAAI,CAACC,QAAL,CAAc,CACZpB,YAAY,CAAEgB,SAAS,CAACC,CAAD,CADX,CAAd,EAGH,CACF,CACF,CACF,CAdD,EAeH,CAhBD,EAiBD,C,uCAEQ,IACDjB,CAAAA,YADC,CACgB,KAAKD,KADrB,CACDC,YADC,CAGP,GAAIqB,MAAM,CAACC,IAAP,CAAYtB,YAAZ,EAA0BkB,MAA1B,GAAqC,CAAzC,CAA4C,CAC1C,mBACI,4CADJ,CAGD,CAJD,IAIO,CACL,mBACI,4CACI,+BAAMlB,YAAY,CAACW,IAAnB,CADJ,cAEI,+BAAMX,YAAY,CAACuB,IAAnB,CAFJ,CADJ,CAMD,CACF,C,0BA7CwB5B,S,EAgD3B,cAAeE,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport firebase from 'firebase';\n\nimport './subskill-page.css';\n\nclass SubskillPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        subskillData: {}\n    }\n  }\n\n  componentDidMount() {\n    const skillsRef = firebase.database().ref('skills');\n    skillsRef.once('value').then(snapshot => {\n        snapshot.forEach(skill => {\n          let skillObj = skill.val();\n\n          if (skillObj.name.toLowerCase() === this.props.match.params.skillId) {\n            let subskills = skillObj.subskills;\n            \n            for (let i=0; i < subskills.length; i++) {\n              if (subskills[i].name.toLowerCase() === this.props.match.params.subskillId) {\n                  this.setState({\n                    subskillData: subskills[i]\n                });\n              }\n            }\n          }\n        })\n    })\n  }\n\n  render() {\n    let { subskillData } = this.state;\n    \n    if (Object.keys(subskillData).length === 0) {\n      return (\n          <div>Loading...</div>\n      )\n    } else {\n      return (\n          <div>\n              <div>{subskillData.name}</div>\n              <div>{subskillData.desc}</div>\n          </div>\n      )\n    }\n  }\n}\n\nexport default SubskillPage"]},"metadata":{},"sourceType":"module"}